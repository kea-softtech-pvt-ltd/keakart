(window.webpackJsonp=window.webpackJsonp||[]).push([["LoginBottomSheet"],{"./Utils/RAFPromise.js":function(e,t,o){"use strict";t.a=function(){return new Promise(function(e){window.requestAnimationFrame(function(){e()})})}},"./components/Commons/Buttons/IconButton/IconButton.css":function(e,t,o){e.exports={iconbutton:"_103Sb_",imgsrc:"_1V3kw-",disabled:"_2cC1NI"}},"./components/Commons/Buttons/IconButton/IconButton.js":function(e,t,o){"use strict";var n=o("./node_modules/react/index.js"),s=o.n(n),r=o("./node_modules/classnames/index.js"),i=o.n(r),a=o("./Utils/RippleUtils/RippleUtils.js"),l=o("./components/Commons/Buttons/IconButton/IconButton.css"),p=o.n(l),c=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,o,n,s){var r=t&&t.defaultProps,i=arguments.length-3;if(o||0===i||(o={}),o&&r)for(var a in r)void 0===o[a]&&(o[a]=r[a]);else o||(o=r||{});if(1===i)o.children=s;else if(i>1){for(var l=Array(i),p=0;p<i;p++)l[p]=arguments[p+3];o.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:o,_owner:null}}}(),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var o,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,r=Array(s),i=0;i<s;i++)r[i]=arguments[i];return o=n=h(this,e.call.apply(e,[this].concat(r))),n.state={disabled:n.props.disabled||!1},n.onRippleAnimationEnd=function(){n.props.clickHandler&&n.props.clickHandler.call(null,n.props)},n.btnClick=function(e){e.stopPropagation&&e.stopPropagation();var t=n.props.rippleColor||("light"===n.props.theme?"rgba(200, 200, 200, 0.6)":"rgba(70, 70, 70, 0.7)");a.a.createRipple(e,e.currentTarget,t,"0.3s",!0,n.onRippleAnimationEnd)},h(n,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.state.disabled!==e.disabled&&this.setState({disabled:e.disabled})},t.prototype.shouldComponentUpdate=function(e,t){return this.state.disabled!==t.disabled||this.props.src!==e.src},t.prototype.render=function(){var e="string"==typeof this.props.style?i()(p.a.iconbutton,this.props.style):p.a.iconbutton,t="object"===u(this.props.style)?this.props.style:null,o=c("div",{className:e,onClick:this.btnClick,style:t},void 0,c("img",{className:p.a.imgsrc,src:this.props.src,style:{width:this.props.width||this.props.srcSize,height:this.props.height||this.props.srcSize}}));return this.state.disabled&&(o=c("button",{className:i()(p.a.iconbutton,p.a.disabled)},void 0,c("img",{className:p.a.imgsrc,src:this.props.src,style:{width:this.props.srcSize,height:this.props.srcSize}}))),o},t}(s.a.Component);d.defaultProps={theme:"light",style:{},src:null,srcSize:"15px"},t.a=d},"./components/Commons/TextInputs/PaperInput.css":function(e,t,o){e.exports={paperinput:"JRwvMp",highlight:"_2y7Zq5",charcounter:"VSjlyj",invalid:"_1JK4uV",textareactn:"KpMJlD",mirrorcontent:"_3rMYXn",textarea:"_3e92DS",belowborder:"_1ahCAZ",belowborderanimate:"kxQXw1",fakePlaceholder:"rK1hG6",fakeAnimate:"_2QdfWZ",disabled:"_1DsrLI",error:"_353xib",inputHighlighter:"_2TmLwa"}},"./components/Commons/TextInputs/PaperInput.js":function(e,t,o){"use strict";o("./node_modules/prop-types/index.js");var n=o("./node_modules/react/index.js"),s=o.n(n),r=o("./node_modules/classnames/index.js"),i=o.n(r),a=o("./components/Commons/TextInputs/PaperInput.css"),l=o.n(a),p=o("./Utils/StringUtils.tsx"),c=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,o,n,s){var r=t&&t.defaultProps,i=arguments.length-3;if(o||0===i||(o={}),o&&r)for(var a in r)void 0===o[a]&&(o[a]=r[a]);else o||(o=r||{});if(1===i)o.children=s;else if(i>1){for(var l=Array(i),p=0;p<i;p++)l[p]=arguments[p+3];o.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:o,_owner:null}}}();var u=function(e){function t(o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,o));h.call(n);var s=o||{},r=s.value,i=s.disabled,a=s.focussed;return n.state={disabled:i,focussed:a,value:r&&r.toString()||""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this;this.props.focussed!==e.focussed&&this.setState({focussed:e.focussed},function(){t._input&&t.state.focussed&&t._input.focus()}),void 0!==e.value&&this.state.value!==e.value&&this.setState({value:this.truncateValue(e.value)},function(){t.state.value&&(t.fakePlaceholder&&t.fakePlaceholder.classList.add(l.a.fakeAnimate,t.props.style.placeHolder),t.props.inputType),"input"!==t.props.inputType&&(t._input.scrollTop=t._input.scrollHeight)})},t.prototype.componentDidMount=function(){var e=(this.paperinputctnref||{}).querySelector("input")||{};e.value&&(this.fakePlaceholder&&this.fakePlaceholder.classList.add(l.a.fakeAnimate,this.props.style.placeHolder),this.setState({value:e.value})),"input"===this.props.inputType?(this._input=e,this.value=this.props.value||""):(this._input=this.paperinputctnref&&this.paperinputctnref.querySelector("textarea"),this.mirrorcontent.innerHTML=this.formatInputValue()||""),this.props.pattern||this._input.removeAttribute("pattern"),(this.state.value||this.state.focussed)&&this._input.focus(),this._input.blur(),this.props.disabled&&this._input&&this._input.setAttribute("disabled","true"),this.props.focussed&&this._input.focus()},t.prototype.render=function(){var e=this,t=this.props.style.inputField,o=this.props.style.placeHolder,n=this.props.style.bottomBorder,r=this.props.style.textArea,a="input"===this.props.inputType?c("input",{readOnly:this.props.readOnly,className:t,onBlur:this.blur,onChange:this.handleChange,onFocus:this.focus,pattern:this.props.pattern||"",type:this.props.type||"text",value:this.state.value||"",placeholder:this.props.isFloating?null:this.props.placeholder,autoComplete:this.props.autoComplete||""}):c("div",{className:i()(l.a.textareactn,r)},void 0,s.a.createElement("p",{className:l.a.mirrorcontent,ref:function(t){e.mirrorcontent=t},dangerouslySetInnerHTML:{__html:this.formatInputValue()}}),s.a.createElement("textarea",{className:l.a.textarea,value:this.convertInputForTextArea(),ref:function(t){e.textArea=t},onFocus:this.focus,onBlur:this.blur,onChange:this.handleChange,onKeyUp:this.keyUp,placeholder:this.props.isFloating?null:this.props.placeholder,readOnly:this.props.readOnly,autoFocus:this.props.focussed})),u=null;this.props.required&&(a=c("input",{className:t,onBlur:this.blur,onChange:this.handleChange,onFocus:this.focus,pattern:this.props.pattern||"",required:!0,type:this.props.type||"text",value:this.state.value||"",placeholder:this.props.isFloating?null:this.props.placeholder,autoComplete:this.props.autoComplete||""})),this.props.minlength>0&&this.state.value.length<this.props.minlength&&(u=c("span",{className:l.a.error},void 0,Object(p.b)("PaperInputMinCharMsg",{count:this.props.minlength})));var h=this.state.disabled?i()(l.a.fakePlaceholder,l.a.disabled,o):i()(l.a.fakePlaceholder,o);return s.a.createElement("div",{className:l.a.paperinputctn,ref:function(t){e.paperinputctnref=t}},c("div",{className:l.a.paperinput},void 0,a,this.props.isFloating?s.a.createElement("label",{className:h,ref:function(t){e.fakePlaceholder=t}},this.props.placeholder||""):null,this.props.showBelowBorder?s.a.createElement("span",{className:i()(l.a.belowborder,n),ref:function(t){e.belowborder=t}}):null,s.a.createElement("span",{className:l.a.highlight,ref:"highlight"})),this.props.showLength&&this.props.maxlength?s.a.createElement("span",{className:l.a.charcounter,ref:"charcounter"},this.state.value.length+" / "+this.props.maxlength):null,this.props.showLength&&this.props.minlength?s.a.createElement("span",{className:l.a.charcounter,ref:"charcounter"},this.state.value.length):null,u)},t}(s.a.Component);u.defaultProps={inputType:"input",style:{},isFloating:!0,editable:!0,readOnly:!1,showBelowBorder:!0};var h=function(){var e=this;this.truncateValue=function(t){return t?(e.props.maxlength>0&&(t=t.substr(0,e.props.charLimit)),t):""},this.setValue=function(t){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.setState({value:t}),t&&o&&e._input.focus()},this.focus=function(){(!e.state.disabled||e.state.disabled&&e.state.value)&&e.fakePlaceholder&&e.fakePlaceholder.classList.add(l.a.fakeAnimate,e.props.style.placeHolder),e.state.disabled||(e.belowborder&&e.belowborder.classList.add(l.a.belowborderanimate,e.props.style.bottomBorder),e.props.onFocus&&"function"==typeof e.props.onFocus&&e.props.onFocus.call(null,e.getValue(),e._input))},this.blur=function(t){e.belowborder&&e.belowborder.classList.remove(l.a.belowborderanimate),e.state.value?e.belowborder&&e.belowborder.classList.remove(l.a.invalid):(e.fakePlaceholder&&e.fakePlaceholder.classList.remove(l.a.fakeAnimate),e.props.required&&e.belowborder&&e.belowborder.classList.add(l.a.invalid)),e.state.disabled||e.props.onBlur&&"function"==typeof e.props.onBlur&&e.props.onBlur.call(null,e.getValue(),t)},this.handleChange=function(t){if(e.props.editable&&!e.state.disabled){var o=t.target.value;if(o&&(o=o.toString(),e.fakePlaceholder&&e.fakePlaceholder.classList.add(l.a.fakeAnimate,e.props.style.placeHolder)),void 0!==e.props.maxlength&&o.length>e.props.maxlength)return;var n=!0;e.props.minlength>0&&o.length<e.props.minlength&&(n=!1),e.setState({value:o,isValid:n},function(e){this.props.changeHandler&&"function"==typeof this.props.changeHandler&&this.props.changeHandler.call(null,e)}.bind(e,t.target.value))}},this.getValue=function(){var t=0;switch(e.props.valueType||"string"){case"string":t=e.state.value||"";break;case"number":""===e.state.value?t="":(t=Number(e.state.value),isNaN(t)&&(t=""));break;case"integer":t=parseInt(e.state.value,10),Number.isNaN(t)&&(t="");break;default:t=e.state.value||""}return t},this.keyUp=function(t){e.formatInputValue(t.target)},this.formatInputValue=function(){return e.props.editable&&e.state.value.replace(/\r\n|\r|\n/g,"<br />")+"&nbsp;"},this.convertInputForTextArea=function(){return e.state.value.replace(/&nbsp;|&nbsp/g," ")},this.addFocus=function(){e._input.focus()}};u.defaultProps={inputType:"input",style:{},isFloating:!0,editable:!0,readOnly:!1},t.a=u},"./components/Login/LoginBottomSheet/LoginBottomSheet.css":function(e,t,o){e.exports={"bottom-sheet-content":"_2gG_ax","loginSheet-header":"_1sIpk4","header-text":"_1NKpK3","loginSheet-content":"_3H6YEB","default-action":"_3mS6iq","button-style":"_15xVi7"}},"./components/Login/LoginBottomSheet/LoginBottomSheet.js":function(e,t,o){"use strict";o.r(t);var n=o("./node_modules/prop-types/index.js"),s=o.n(n),r=o("./node_modules/react/index.js"),i=o.n(r),a=o("./components/Login/LoginBottomSheet/LoginBottomSheet.css"),l=o.n(a),p=o("./images/cross.png"),c=o.n(p),u=o("./images/FKLite.png"),h=o.n(u),d=o("./components/Commons/TextInputs/PaperInput.js"),f=o("./components/Commons/Buttons/IconButton/IconButton.js"),m=o("./components/Commons/Buttons/RaisedButton/RaisedButton.js"),b=o("./components/Commons/Image/Image.js"),g=o("./stores/OmnitureStore.js"),y=o("./constants/OmnitureConstants/LoginOmnitureConstants.js"),v=o("./components/HOCs/LoginHelperHOC.js"),w=o("./Utils/PromiseFactory.js"),_=o("./Utils/StorageHelper.js"),S=o("./Utils/RAFPromise.js"),k=o("./Utils/StringUtils.tsx"),L=o("./Utils/showLoginBottomSheet.js"),C=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,o,n,s){var r=t&&t.defaultProps,i=arguments.length-3;if(o||0===i||(o={}),o&&r)for(var a in r)void 0===o[a]&&(o[a]=r[a]);else o||(o=r||{});if(1===i)o.children=s;else if(i>1){for(var l=Array(i),p=0;p<i;p++)l[p]=arguments[p+3];o.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:o,_owner:null}}}();function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var j=C("span",{},void 0,C(b.a,{default:!0,alt:"img-home-main",width:"85",height:"30",src:h.a})),O=function(e){function t(){var n,s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=s=P(this,e.call.apply(e,[this].concat(i))),s.onLoginClick=function(){s.props.doLoginProcessing(window.location.pathname+window.location.search,y.a.HP_LOGIN_PROMPT)},s.goBack=function(){window.omniture.trackLink(Object.assign({},g.a.get(),{events:"event17",prop3:"Homepage",prop4:"Homepage"}),"HP_LoginPrompt_Skip"),window.history.back()},s.sendOmnitureData=function(){window.omniture.trackLink({events:"event83",prop21:s.props.pageName+"_LoginPrompt_Bottom_Sheet_Popup"},"Login Bottom Sheet")},s.showLoginBottomsheet=function(e){e&&(Object(_.a)("sessionCount").then(function(e){Object(_.e)("sessionCount",Number(e)+1)}),Promise.all([Object(w.b)("UPDATE_BROWSER_SHOWN"),Object(_.a)("sessionCount")]).then(function(e){var t=e[1];e[0]||(Object(_.e)("sessionCount",Number(t)+1),Object(_.f)("isLBSShown",1),Object(S.a)().then(function(){s.getLoginBSRenderer().then(function(e){Object(L.a)({url:"/login?type=mobile&sourceContext=DEFAULT"},e)})}))}))},s.getBottomSheetData=function(){return{contents:s.getContents(),shouldShowBottomSheet:!0,onOverlayClick:s.goBack,shouldShowHeader:!1,sentinelStyle:{backgroundColor:"#2874f0"}}},s.getLoginBSRenderer=function(){return new Promise(function(e){o.e("LoginBSRenderer").then(o.bind(null,"./components/Login/LoginPage/LoginBSRenderer.tsx")).then(function(t){e(t.default||t)})})},s.getContents=function(){return s.sendOmnitureData(),C("div",{className:l.a["bottom-sheet-content"],onClick:s.onLoginClick},void 0,C("header",{className:l.a["loginSheet-header"]},void 0,C("span",{},void 0,C(f.a,{src:c.a,clickHandler:s.goBack})),j),C("div",{className:l.a["header-text"]},void 0,Object(k.b)("LoginToAccessOrders")),C("div",{className:l.a["loginSheet-content"]},void 0,C(d.a,{placeholder:Object(k.b)("LoginPlaceholder"),isFloating:!1,editable:!1,changeHandler:s.inputClick,readOnly:!0}),C("div",{className:l.a["default-action"]},void 0,C(m.a,{label:Object(k.b)("LoginBtnLabel"),style:{background:"#fb641b",boxShadow:"none",color:"#fff",padding:"12px 40px",fontWeight:"400"},clickHandler:s.onLoginClick}))))},s.inputClick=function(e){e&&e.stopPropagation&&e.stopPropagation()},P(s,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){Object(w.b)("COMPONENT_LAZY_LOADED").then(this.showLoginBottomsheet)},t.prototype.render=function(){return null},t}(i.a.Component);O.contextTypes={router:s.a.object.isRequired},t.default=Object(v.a)(O)}}]);